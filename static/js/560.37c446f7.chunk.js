"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[560],{3560:function(e,s,n){n.r(s);var r=n(9439),t=n(1413),c=n(7482),i=n(4294),a=n(493),o=n(2791),Z=n(5021),h=n(9900),u=n(4721),l=n(4554),d=n(1355),x=n(7621),j=n(9504),S=n(9585),f=n(4454),T=n(5351),g=n(4070),R=n(890),p=n(184),A=(0,o.forwardRef)((function(e,s){return(0,p.jsx)(g.Z,(0,t.Z)({elevation:1,ref:s,variant:"filled"},e))}));s.default=function(e){var s=e.user,n=(0,o.useState)(null),t=(0,r.Z)(n,2),g=t[0],k=t[1],v=(0,o.useState)((null===g||void 0===g?void 0:g.rights)||0),G=(0,r.Z)(v,2),I=G[0],m=G[1],C=(0,o.useState)(0),H=(0,r.Z)(C,2),w=H[0],P=(H[1],(0,o.useState)(!1)),y=(0,r.Z)(P,2),b=y[0],N=y[1],O=new URLSearchParams(window.location.search).get("id");(0,o.useState)((function(){O&&d.Z.getUser(O).then((function(e){k(e),m(e.rights)}))}),[O,w]);var U=(0,o.useCallback)((function(){d.Z.updateUser({id:O,rights:I}).then((function(e){k(e),m(e.rights),N(!0),setTimeout((function(){return N(!1)}),2e3)}))}),[O,I]);return g?!1===d.Z.hasAccess(s.rights,d.Z.RIGHTS.GRANT)?(0,p.jsx)("h1",{children:"Access Denied"}):(0,p.jsx)(l.Z,{children:(0,p.jsxs)(x.Z,{children:[(0,p.jsx)(S.Z,{title:g.username,action:(0,p.jsx)(i.Z,{variant:"contained",onClick:U,children:"Save"})}),(0,p.jsxs)(j.Z,{children:[(0,p.jsx)(R.Z,{variant:"h6",component:"div",children:"Rights"}),(0,p.jsx)(u.Z,{}),(0,p.jsxs)(a.Z,{children:[(0,p.jsxs)(Z.ZP,{children:[(0,p.jsx)(h.Z,{primary:"Task Rights"}),(0,p.jsx)(f.Z,{sx:{cursor:"pointer"},disabled:!0,checked:d.Z.hasAccess(I,d.Z.RIGHTS.TASK)})]}),(0,p.jsxs)(Z.ZP,{children:[(0,p.jsx)(h.Z,{primary:"Topic Rights"}),(0,p.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(I,d.Z.RIGHTS.TOPIC),onClick:function(){return m(d.Z.toggleAccess(I,d.Z.RIGHTS.TOPIC))}})]}),(0,p.jsxs)(Z.ZP,{children:[(0,p.jsx)(h.Z,{primary:"Stats Rights"}),(0,p.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(I,d.Z.RIGHTS.STATS),onClick:function(){return m(d.Z.toggleAccess(I,d.Z.RIGHTS.STATS))}})]}),(0,p.jsxs)(Z.ZP,{children:[(0,p.jsx)(h.Z,{primary:"Grant Rights"}),(0,p.jsx)(f.Z,{sx:{cursor:"pointer"},checked:d.Z.hasAccess(I,d.Z.RIGHTS.GRANT),onClick:function(){return m(d.Z.toggleAccess(I,d.Z.RIGHTS.GRANT))}})]})]}),(0,p.jsx)(T.Z,{open:b,autoHideDuration:6e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,p.jsx)(A,{severity:"success",sx:{width:"100%"},children:"Saved Successfully"})})]})]})}):(0,p.jsx)(c.Z,{})}}}]);
//# sourceMappingURL=560.37c446f7.chunk.js.map